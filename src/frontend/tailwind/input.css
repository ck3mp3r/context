@import "tailwindcss";

:root {
  /* Default theme (Mocha) - will be overridden by JS */
  --ctp-base: #1e1e2e;
  --ctp-mantle: #181825;
  --ctp-crust: #11111b;
  --ctp-text: #cdd6f4;
  --ctp-subtext1: #bac2de;
  --ctp-subtext0: #a6adc8;
  --ctp-overlay0: #6c7086;
  --ctp-overlay1: #7f849c;
  --ctp-overlay2: #9399b2;
  --ctp-surface0: #313244;
  --ctp-surface1: #45475a;
  --ctp-surface2: #585b70;
  --ctp-rosewater: #f5e0dc;
  --ctp-flamingo: #f2cdcd;
  --ctp-pink: #f5c2e7;
  --ctp-mauve: #cba6f7;
  --ctp-red: #f38ba8;
  --ctp-maroon: #eba0ac;
  --ctp-peach: #fab387;
  --ctp-yellow: #f9e2af;
  --ctp-green: #a6e3a1;
  --ctp-teal: #94e2d5;
  --ctp-sky: #89dceb;
  --ctp-sapphire: #74c7ec;
  --ctp-blue: #89b4fa;
  --ctp-lavender: #b4befe;
}

@theme inline {
  --color-ctp-base: var(--ctp-base);
  --color-ctp-mantle: var(--ctp-mantle);
  --color-ctp-crust: var(--ctp-crust);
  --color-ctp-text: var(--ctp-text);
  --color-ctp-subtext1: var(--ctp-subtext1);
  --color-ctp-subtext0: var(--ctp-subtext0);
  --color-ctp-overlay0: var(--ctp-overlay0);
  --color-ctp-overlay1: var(--ctp-overlay1);
  --color-ctp-overlay2: var(--ctp-overlay2);
  --color-ctp-surface0: var(--ctp-surface0);
  --color-ctp-surface1: var(--ctp-surface1);
  --color-ctp-surface2: var(--ctp-surface2);
  --color-ctp-rosewater: var(--ctp-rosewater);
  --color-ctp-flamingo: var(--ctp-flamingo);
  --color-ctp-pink: var(--ctp-pink);
  --color-ctp-mauve: var(--ctp-mauve);
  --color-ctp-red: var(--ctp-red);
  --color-ctp-maroon: var(--ctp-maroon);
  --color-ctp-peach: var(--ctp-peach);
  --color-ctp-yellow: var(--ctp-yellow);
  --color-ctp-green: var(--ctp-green);
  --color-ctp-teal: var(--ctp-teal);
  --color-ctp-sky: var(--ctp-sky);
  --color-ctp-sapphire: var(--ctp-sapphire);
  --color-ctp-blue: var(--ctp-blue);
  --color-ctp-lavender: var(--ctp-lavender);
}

body {
  background-color: var(--ctp-base);
  color: var(--ctp-text);
  font-family: system-ui, -apple-system, sans-serif;
}

/* Markdown content styling */
.prose {
  color: var(--ctp-text);
  max-width: 100%;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  color: var(--ctp-text);
  font-weight: 600;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

.prose h1 { font-size: 2em; }
.prose h2 { font-size: 1.5em; }
.prose h3 { font-size: 1.25em; }

.prose p {
  margin-top: 0.75em;
  margin-bottom: 0.75em;
}

.prose a {
  color: var(--ctp-blue);
  text-decoration: underline;
}

.prose a:hover {
  color: var(--ctp-lavender);
}

.prose code {
  background-color: var(--ctp-surface0);
  padding: 0.2em 0.4em;
  border-radius: 0.25rem;
  font-size: 0.875em;
  font-family: 'Courier New', monospace;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.prose pre {
  background-color: var(--ctp-surface0);
  padding: 1em;
  border-radius: 0.5rem;
  overflow-x: auto;
  margin-top: 1em;
  margin-bottom: 1em;
  max-width: 100%;
  white-space: pre-wrap;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.prose pre code {
  background-color: transparent;
  padding: 0;
  white-space: pre-wrap;
  word-break: break-all;
}

.prose ul,
.prose ol {
  margin-top: 0.75em;
  margin-bottom: 0.75em;
  padding-left: 1.5em;
}

.prose li {
  margin-top: 0.25em;
  margin-bottom: 0.25em;
}

.prose blockquote {
  border-left: 4px solid var(--ctp-blue);
  padding-left: 1em;
  color: var(--ctp-subtext0);
  font-style: italic;
  margin-top: 1em;
  margin-bottom: 1em;
}

.prose table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 1em;
  margin-bottom: 1em;
  table-layout: fixed;
  max-width: 100%;
}

.prose th,
.prose td {
  border: 1px solid var(--ctp-surface1);
  padding: 0.5em;
  text-align: left;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.prose th {
  background-color: var(--ctp-surface0);
  font-weight: 600;
}

.prose hr {
  border: none;
  border-top: 1px solid var(--ctp-surface1);
  margin-top: 2em;
  margin-bottom: 2em;
}

/* Thaw UI OverlayDrawer custom styling */
.note-detail-drawer {
  width: 85vw !important;
  max-width: 85vw !important;
}

/* Force the entire drawer structure to be non-scrollable and use flexbox */
.note-detail-drawer,
.note-detail-drawer > *,
.note-detail-drawer .thaw-overlay-drawer__content,
.note-detail-drawer .thaw-drawer-body {
  height: 100% !important;
  max-height: 100vh !important;
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
}

.note-detail-drawer .thaw-drawer-body {
  padding: 0 !important;
  flex: 1 !important;
}

.skill-detail-drawer {
  width: 85vw !important;
  max-width: 85vw !important;
}

/* Force the entire drawer structure to be non-scrollable and use flexbox */
.skill-detail-drawer,
.skill-detail-drawer > *,
.skill-detail-drawer .thaw-overlay-drawer__content,
.skill-detail-drawer .thaw-drawer-body {
  height: 100% !important;
  max-height: 100vh !important;
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
}

.skill-detail-drawer .thaw-drawer-body {
  padding: 0 !important;
  flex: 1 !important;
}

.task-list-detail-drawer {
  width: 95vw !important;
  max-width: 95vw !important;
}

/* Theme-aware drawer styling */
.thaw-overlay-drawer {
  background-color: var(--ctp-base) !important;
}

.thaw-drawer-header {
  background-color: var(--ctp-mantle) !important;
  border-bottom: 1px solid var(--ctp-surface0) !important;
}

.thaw-drawer-body {
  background-color: var(--ctp-base) !important;
  color: var(--ctp-text) !important;
}

/* Task Card Stacked Effect - indicates parent task with subtasks */
.task-card-parent {
  position: relative;
}

.task-card-parent::before {
  content: '';
  position: absolute;
  top: -3px;
  left: 3px;
  right: -3px;
  height: 100%;
  background: var(--ctp-surface0);
  border-radius: 0.5rem;
  z-index: -1;
  opacity: 0.5;
}

.task-card-parent::after {
  content: '';
  position: absolute;
  top: -6px;
  left: 6px;
  right: -6px;
  height: 100%;
  background: var(--ctp-surface0);
  border-radius: 0.5rem;
  z-index: -2;
  opacity: 0.25;
}

/* Note Preview - Compact markdown styling for note cards */
.note-preview {
  max-width: none;
}

.note-preview h1,
.note-preview h2,
.note-preview h3,
.note-preview h4,
.note-preview h5,
.note-preview h6 {
  font-size: 0.875rem; /* Same as parent text-sm */
  font-weight: 600;
  margin: 0.25em 0;
  color: var(--ctp-subtext1);
}

.note-preview p {
  margin: 0.25em 0;
  font-size: 0.875rem;
}

.note-preview ul,
.note-preview ol {
  margin: 0.25em 0;
  padding-left: 1.5em;
  font-size: 0.875rem;
  list-style-position: outside;
}

.note-preview ul {
  list-style-type: disc;
}

.note-preview ol {
  list-style-type: decimal;
}

.note-preview li {
  margin: 0.125em 0;
  padding-left: 0.25em;
}

.note-preview code {
  background-color: var(--ctp-surface0);
  padding: 0.125em 0.25em;
  border-radius: 0.25rem;
  font-size: 0.8125rem;
  font-family: 'Courier New', monospace;
}

.note-preview pre {
  display: none; /* Hide code blocks in preview */
}

.note-preview blockquote {
  border-left: 2px solid var(--ctp-blue);
  padding-left: 0.5em;
  margin: 0.25em 0 0.25em 0.5em;
  font-style: italic;
}

.note-preview a {
  color: var(--ctp-blue);
  text-decoration: none;
}

.note-preview strong,
.note-preview b {
  font-weight: 600;
  color: var(--ctp-text);
}

.note-preview em,
.note-preview i {
  font-style: italic;
}

.note-preview table {
  display: none; /* Hide tables in preview */
}

.note-preview hr {
  display: none; /* Hide horizontal rules in preview */
}

/* Note Stack Sidebar - Prevent scroll anchoring */
.note-stack-sidebar {
  /* CRITICAL: Prevents browser from auto-scrolling when DOM updates */
  overflow-anchor: none;
}

/* Note Stack Card Selection - CSS-only, no reactive classes */
.note-stack-card {
  /* Base styles - unselected */
  background-color: var(--ctp-surface0);
  border: 1px solid var(--ctp-surface1);
  /* Prevent focus/scroll behavior */
  outline: none;
  -webkit-tap-highlight-color: transparent;
  /* Prevent this element from being a scroll anchor */
  overflow-anchor: none;
}

.note-stack-card:hover {
  background-color: var(--ctp-surface0);
  opacity: 0.8;
}

.note-stack-card[data-selected="true"] {
  background-color: var(--ctp-surface1);
  border: 2px solid var(--ctp-blue);
}
